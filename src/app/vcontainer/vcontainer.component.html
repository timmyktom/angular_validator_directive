<div class="panel panel-default">
  <div class="panel-heading">Reactive Form with Custom Validator Example</div>
  <div class="panel-body">
    <form [formGroup]="form1" class="form">
      <!-- ************************************************* -->
      <div>Custom Static validator</div>
      <div class="form-group">
        <label for="amount1">Amount</label>
        <input type="text" 
          class="form-control" 
          id="amount1" 
          [formControl]="form1.controls['amount1']">

        <div class="error-text" 
          *ngIf="form1.controls['amount1'].errors 
            && (form1.controls['amount1'].dirty || form1.controls['amount1'].touched)">
          <!--Error to display required -->
          <p *ngIf="form1.controls['amount1'].errors.required">Amount is required</p>
          <!--Error to display pattern -->
          <p *ngIf="form1.controls['amount1'].errors.pattern">Invalid Amount</p>
          <!--Error to display custom validation -->
          <p *ngIf="form1.controls['amount1'].errors.validateAmount
            && form1.controls['amount1'].errors.validateAmount.type ==='min'">
            Amount must be greater than 50</p>
          <p *ngIf="form1.controls['amount1'].errors.validateAmount
            && form1.controls['amount1'].errors.validateAmount.type ==='max'">
            Amount must be less than 5000</p>
        </div>
      </div>

      <!-- ************************************************* -->
      <div>Custom validator with dependency</div>
      <div class="form-group">
        <label for="amount2">Amount</label>
        <input type="text" 
          class="form-control" 
          id="amount2" 
          [formControl]="form1.controls['amount2']">

        <div class="error-text" *ngIf="form1.controls['amount2'].errors 
            && (form1.controls['amount2'].dirty || form1.controls['amount2'].touched)">
          <!--Error to display required -->
          <p *ngIf="form1.controls['amount2'].errors.required">Amount is required</p>
          <!--Error to display pattern -->
          <p *ngIf="form1.controls['amount2'].errors.pattern">Invalid Amount</p>
          <!--Error to display custom validation -->
          <p *ngIf="form1.controls['amount2'].errors.validateNotAllowed
            && form1.controls['amount2'].errors.validateNotAllowed.type ==='notAllowed'">
            Amount
            <b>{{form1.controls['amount2'].errors.validateNotAllowed.value}}</b> is not allowed
          </p>
          <p *ngIf="form1.controls['amount2'].errors.validateAmount
            && form1.controls['amount2'].errors.validateAmount.type ==='min'">
            Amount must be greater than 
            <b>{{form1.controls['amount2'].errors.validateAmount.value}}</b>
          </p>
          <p *ngIf="form1.controls['amount2'].errors.validateAmount
            && form1.controls['amount2'].errors.validateAmount.type ==='max'">
            Amount must be less than 
            <b>{{form1.controls['amount2'].errors.validateAmount.value}}</b>
          </p>
        </div>
      </div>
      <!-- ************************************************* -->
    </form>
  </div>
</div>